"use strict";function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var options={videoEl:document.querySelector("#background_video"),container:document.querySelector("body"),resize:!0,autoplay:!0,isMobile:window.matchMedia("(max-width: 768px)").matches,playButton:document.querySelector("#play"),pauseButton:document.querySelector("#pause"),src:[{src:"assembly.mp4",type:"video/mp4"}],onLoad:function(){console.log("hiding video cover"),document.querySelector("#video_cover").style.display="none"}},bv=new Bideo(options),_createClass=function(){function t(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(i,e,s){return e&&t(i.prototype,e),s&&t(i,s),i}}(),SideNav=function(){function t(){_classCallCheck(this,t),this.showButtonEl=document.querySelector(".js-menu-show"),this.hideButtonEl=document.querySelector(".js-menu-hide"),this.sideNavEl=document.querySelector(".js-side-nav"),this.sideNavContainerEl=document.querySelector(".js-side-nav-container"),this.detabinator=new Detabinator(this.sideNavContainerEl),this.detabinator.inert=!0,this.showSideNav=this.showSideNav.bind(this),this.hideSideNav=this.hideSideNav.bind(this),this.blockClicks=this.blockClicks.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.onTransitionEnd=this.onTransitionEnd.bind(this),this.update=this.update.bind(this),this.startX=0,this.currentX=0,this.touchingSideNav=!1,this.supportsPassive=void 0,this.addEventListeners()}return _createClass(t,[{key:"applyPassive",value:function(){if(void 0!==this.supportsPassive)return!!this.supportsPassive&&{passive:!0};var t=!1;try{document.addEventListener("test",null,{get passive(){t=!0}})}catch(i){}return this.supportsPassive=t,this.applyPassive()}},{key:"addEventListeners",value:function(){this.showButtonEl.addEventListener("click",this.showSideNav),this.hideButtonEl.addEventListener("click",this.hideSideNav),this.sideNavEl.addEventListener("click",this.hideSideNav),this.sideNavContainerEl.addEventListener("click",this.blockClicks),this.sideNavEl.addEventListener("touchstart",this.onTouchStart,this.applyPassive()),this.sideNavEl.addEventListener("touchmove",this.onTouchMove,this.applyPassive()),this.sideNavEl.addEventListener("touchend",this.onTouchEnd)}},{key:"onTouchStart",value:function(t){this.sideNavEl.classList.contains("side-nav--visible")&&(this.startX=t.touches[0].pageX,this.currentX=this.startX,this.touchingSideNav=!0,requestAnimationFrame(this.update))}},{key:"onTouchMove",value:function(t){if(this.touchingSideNav){this.currentX=t.touches[0].pageX;var i=Math.min(0,this.currentX-this.startX);i<0&&t.preventDefault()}}},{key:"onTouchEnd",value:function(t){if(this.touchingSideNav){this.touchingSideNav=!1;var i=Math.min(0,this.currentX-this.startX);this.sideNavContainerEl.style.transform="",i<0&&this.hideSideNav()}}},{key:"update",value:function(){if(this.touchingSideNav){requestAnimationFrame(this.update);var t=Math.min(0,this.currentX-this.startX);this.sideNavContainerEl.style.transform="translateX("+t+"px)"}}},{key:"blockClicks",value:function(t){t.stopPropagation()}},{key:"onTransitionEnd",value:function(t){this.sideNavEl.classList.remove("side-nav--animatable"),this.sideNavEl.removeEventListener("transitionend",this.onTransitionEnd)}},{key:"showSideNav",value:function(){this.sideNavEl.classList.add("side-nav--animatable"),this.sideNavEl.classList.add("side-nav--visible"),this.detabinator.inert=!1,this.sideNavEl.addEventListener("transitionend",this.onTransitionEnd)}},{key:"hideSideNav",value:function(){this.sideNavEl.classList.add("side-nav--animatable"),this.sideNavEl.classList.remove("side-nav--visible"),this.detabinator.inert=!0,this.sideNavEl.addEventListener("transitionend",this.onTransitionEnd)}}]),t}();new SideNav;