"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),Bideo=function(){function e(t){_classCallCheck(this,e),this.videoEl=t.videoEl,this.resize=t.resize||!1,this.isMobile=t.isMobile||!1,this.autoplay=t.autoplay||!1,this.onLoad=t.onLoad,this.src=t.src,this._addSources=this._addSources.bind(this),this._addSources(),this._addEventListeners=this._addEventListeners.bind(this),this._resize=this._resize.bind(this),this._canPlay=this._canPlay.bind(this),this._addEventListeners(),console.log("ran constructor...")}return _createClass(e,[{key:"_addEventListeners",value:function(){this.videoEl.addEventListener("loadedmetadata",this._resize,!1),this.videoEl.addEventListener("canplay",this._canPlay),console.log("added event listeners...")}},{key:"_addSources",value:function(){var e=document.createElement("source"),t=!0,i=!1,n=void 0;try{for(var a,r=this.src[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var s=a.value;for(var o in s)console.log(o+" - "+s[o]),e.setAttribute(o,s[o])}}catch(l){i=!0,n=l}finally{try{!t&&r["return"]&&r["return"]()}finally{if(i)throw n}}return this.videoEl.appendChild(e)}},{key:"_canPlay",value:function(){console.log("called canPlay"),this.isMobile===!1&&(this.onLoad(),this.autoplay===!0&&(console.log(this.videoEl),this.videoEl.play()))}},{key:"_resize",value:function(){if(console.log("called resize"),!("object-fit"in document.body.style)){var e=this.videoEl.videoWidth,t=this.videoEl.videoHeight,i=(e/t).toFixed(2),n=this.opt.container,a=window.getComputedStyle(n),r=parseInt(a.getPropertyValue("width")),s=parseInt(a.getPropertyValue("height"));if("border-box"!==a.getPropertyValue("box-sizing")){var o=parseInt(a.getPropertyValue("padding-top")),l=parseInt(a.getPropertyValue("padding-bottom")),d=parseInt(a.getPropertyValue("padding-left")),c=parseInt(a.getPropertyValue("padding-right"));r+=d+c,s+=o+l}var h,u=r/e,b=s/t;u>b?(h=r,new_height=Math.ceil(h/i)):(new_height=s,h=Math.ceil(new_height*i)),this.videoEl.style.width=h+"px",this.videoEl.style.height=new_height+"px"}}}]),e}(),_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),Detabinator=function(){function e(t){if(_classCallCheck(this,e),!t)throw new Error("Missing required argument. new Detabinator needs an element reference");this._inert=!1,this._focusableElementsString="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex], [contenteditable]",this._focusableElements=Array.from(t.querySelectorAll(this._focusableElementsString))}return _createClass(e,[{key:"inert",get:function(){return this._inert},set:function(e){this._inert!==e&&(this._inert=e,this._focusableElements.forEach(function(t){if(e)t.hasAttribute("tabindex")&&(t.__savedTabindex=t.tabIndex),t.setAttribute("tabindex",-1);else{if(0===t.__savedTabindex||t.__savedTabindex)return t.setAttribute("tabindex",t.__savedTabindex);t.removeAttribute("tabindex")}}))}}]),e}();